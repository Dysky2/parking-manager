<!-- 
  TŁO MODALA (Backdrop)
  Półprzezroczyste tło, które centruje okno dialogowe i zamyka je po kliknięciu.
-->
<div class="fixed inset-0 bg-opacity-50 flex justify-center items-center z-50">

  <!-- 
    GŁÓWNY KONTENER OKNA DIALOGOWEGO
    Białe tło, cień, zaokrąglone rogi.
  -->

    <div [ngSwitch]="data.space.status">
        <ng-template [ngSwitchCase]="'Available'">
            <div class="bg-white rounded-2xl shadow-xl w-full max-w-md p-8 m-4">

                <!-- NAGŁÓWEK -->
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Zarejestruj Wjazd</h2>
                        <p class="text-slate-500">Miejsce parkingowe: <span class="font-semibold text-purple-600">A11</span></p>
                    </div>
                    <!-- Przycisk do zamykania okna -->
                    <button class="text-slate-400 hover:text-slate-600 transition-colors" (click)="dialogClose()">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>

                <form class="flex flex-col space-y-6">

                <!-- POLE 1: Numer Rejestracyjny -->
                    <div class="flex flex-col">
                        <label for="vehiclePlate" class="mb-2 font-semibold">Numer Rejestracyjny</label>
                        <input 
                        id="vehiclePlate"
                        type="text" 
                        placeholder="np. KRA 12345"
                        class="bg-white w-full px-4 py-3 border rounded-lg"
                        autocomplete="off">
                    </div>

                    <!-- POLE 2: Przypisz do Użytkownika (Opcjonalne) -->
                    <div class="flex flex-col">
                        <label for="userSelect" class="mb-2 font-semibold text-slate-700">
                        Przypisz do użytkownika <span class="text-slate-400 font-normal">(opcjonalnie)</span>
                        </label>
                        <select 
                        id="userSelect"
                        class="w-full px-4 py-3 border border-slate-300 rounded-lg appearance-none bg-white bg-no-repeat bg-right-4"
                        style="background-image: url('data:image/svg+xml,...');"> <!-- Ikona strzałki w dół -->
                            <option value="">Gość (bez przypisania)</option>
                            <option value="user1">Jan Kowalski</option>
                            <option value="user2">Anna Nowak</option>
                            <!-- ... więcej użytkowników ... -->
                        </select>
                    </div>

                    <!-- 
                        PRZYCISKI AKCJI
                        Umieszczone na dole formularza.
                    -->
                    <div class="flex justify-end items-center pt-4 space-x-4">
                        <!-- Przycisk "Anuluj" -->
                        <button type="button" class="px-6 py-3 font-semibold text-slate-600 hover:bg-slate-100 rounded-lg transition-colors" (click)="dialogClose()">
                        Anuluj
                        </button>
                        <!-- Przycisk "Potwierdź" -->
                        <button type="submit" 
                                class="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-shadow disabled:opacity-50 disabled:cursor-not-allowed">
                        Potwierdź Wjazd
                        </button>
                    </div>

                </form>
            </div>
        </ng-template>

        <ng-template [ngSwitchCase]="'Occupied'">
            <div class="bg-white rounded-2xl shadow-xl w-full max-w-md p-8 m-4">

                <!-- NAGŁÓWEK -->
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h2 class="text-2xl font-bold text-slate-800">Zarejestruj Wjazd</h2>
                        <p class="text-slate-500">Miejsce parkingowe: <span class="font-semibold text-purple-600">A11</span></p>
                    </div>
                    <!-- Przycisk do zamykania okna -->
                    <button class="text-slate-400 hover:text-slate-600 transition-colors" (click)="dialogClose()">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>

                <!-- Informacje o parkowaniu -->
                <div class="space-y-4 text-slate-700">
                    <p><strong>Numer Rejestracyjny:</strong> {{ data.space.vehiclePlate }}</p>
                    <p><strong>Czas Wjazdu:</strong></p>
                    <!-- Można dodać inne informacje -->
                </div>
                <!-- Przyciski -->
                <div class="flex justify-end items-center pt-8">
                    <button 
                        type="button"
                        class="flex items-center justify-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition-colors duration-200">
                        <!-- Ikona z Angular Material -->
                        <mat-icon class="mr-2">cancel</mat-icon>
                        <span>Zakończ Parkowanie</span>
                    </button>
                </div>
            </div>
        </ng-template>
    </div>

    
</div>