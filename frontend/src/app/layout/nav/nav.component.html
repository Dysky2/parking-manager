<nav class="w-full bg-white py-4 px-8">
  <div class="flex items-center justify-between">

    <div>
      <div class="text-sm text-gray-400">
        <span>{{ breadcrumbs.parent }}</span>
        <span class="mx-1">/</span>
        <span class="text-gray-800">{{ breadcrumbs.current }}</span>
      </div>
      <h1 class="text-lg font-bold text-slate-700">{{ breadcrumbs.current }}</h1>
    </div>

    <div class="flex items-center space-x-6">

      <!-- <a href="#" class="text-gray-600 hover:text-gray-900">
        <mat-icon class="text-xl">notifications</mat-icon>
      </a> -->

      <a href="/settings" class="text-gray-600 hover:text-gray-900">
        <mat-icon class="text-xl">settings</mat-icon>
      </a>

      <div *ngIf="$authStateChecked | async">

        <div *ngIf="$currentUser | async as currentUser; else loginButton">
          <ng-container *ngTemplateOutlet="userProfile context: {user: currentUser}" ></ng-container>
        </div>

        <ng-template #userProfile let-user="user">
          <p-button
              (click)="menu.toggle($event)"
              styleClass="p-button-text p-button-plain"
              #userMenuBtn>
              <div class="flex items-center text-slate-700">
                  <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center mr-3">
                      <mat-icon class="text-slate-500">person</mat-icon>
                  </div>
                  <span class="text-sm font-semibold">
                      {{ user.name }} {{ user.surname }}
                  </span>
              </div>
          </p-button>

          <p-menu
              #menu
              [model]="userMenuItems"
              [popup]="true"
              appendTo="body">
          </p-menu>
        </ng-template>


        <ng-template #loginButton>
            <a routerLink="/login" class="flex items-center text-slate-600 hover:text-slate-900">
                <mat-icon class="text-xl">person</mat-icon>
                <span class="ml-2 text-sm font-semibold">Zaloguj siÄ™</span>
            </a>
        </ng-template>
      </div>
    </div>
  </div>
</nav>