<div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">

  <div class="bg-white rounded-2xl shadow-xl w-full max-w-md m-4">

    <div class="flex justify-between items-center p-6 border-b border-slate-200">
      <h2 class="text-2xl font-bold text-slate-800">
        <mat-icon class="align-middle mr-2">add_location_alt</mat-icon>
        Add new parking space
      </h2>
      <button (click)="closeDialog()" class="text-slate-400 hover:text-slate-600 transition-colors">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <form class="p-8" [formGroup]="form" (ngSubmit)="addParkingSpace()">

      <div class="flex flex-col">
        <label for="spaceName" class="mb-2 font-semibold text-slate-700 block">
          Space name
        </label>

        <input
          id="parkingSpaceName"
          name="parkingSpaceName"
          formControlName="parkingSpaceName"
          type="text"
          min="2"
          maxlength="4"
          placeholder="np. A12, B32, D65"
          class="w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-lg text-slate-800
                 placeholder-slate-400 focus:outline-none focus:border-sky-500
                 focus:ring-2 focus:ring-sky-100 transition-all"
        />
      </div>
      <div *ngIf="form.get('parkingSpaceName')?.invalid && (form.get('parkingSpaceName')?.dirty || form.get('parkingSpaceName')?.touched)">
        <small *ngIf="form.get('parkingSpaceName')?.errors?.['required']" class="error-message text-red-500">
          This field is required.
        </small>
        <small *ngIf="form.get('parkingSpaceName')?.errors?.['pattern'] || form.get('parkingSpaceName')?.errors?.['minlength'] || form.get('parkingSpaceName')?.errors?.['maxlength']" class="error-message">
          Required format: one capital letter and 2-3 digits (e.g. A12, C123).
        </small>
      </div>
      <div class="flex justify-end items-center pt-8 mt-6 border-t border-slate-200 space-x-4">

        <button
          type="button"
          (click)="closeDialog()"
          class="px-6 py-3 font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors">
          Cancel
        </button>

        <button
          type="submit"
          [disabled]="!form.valid"
          class="px-6 py-3 font-bold text-white bg-slate-800
                 hover:bg-slate-700 rounded-lg shadow-md transition-colors">
          Add place
        </button>

      </div>
    </form>
  </div>
</div>
